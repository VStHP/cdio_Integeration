<% if @subject.errors.any? %>
  alertify.error('<%= escape_javascript(render :partial => "shared/error_messages", :locals => {:object => @subject })%>');
<% else %>
  <% if flash[:success].present? %>
    $('#subject-edit').remove();
    $('#subject-<%= @subject.id %>').replaceWith('<%= j render(@subject) %>');
    $('#subject-index').show();
    alertify.success('<%= flash[:success] %>');
    <% flash.clear %>
  <% else %>
    alertify.error('<%= flash[:danger] %>');
  <% end %>
<% end %>

