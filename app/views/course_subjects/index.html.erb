<% provide :title,  "Select subject" %>
<% provide :button_text, "Save" %>
<section class="content-header">
  <ol class="breadcrumb">
    <li><a href="#"><i class="fa fa-dashboard"></i>Courses</a></li>
    <li><%= link_to @course.name, @course %></li>
    <li class="active">select subjects</li>
  </ol>
</section>
<div class="row">
  <div class="col-md-6 col-md-offset-3" style="width: 90%">
    <h2 style="text-align: center;color: red">
      <%= link_to @course.name, @course %>
      <small> subjects</small></h2>
  </div>
</div>
<div style="margin-top: 20px;">
  <ul class="nav nav-tabs three-tabs nav-tb-c" role="tablist">
    <li role="presentation" class="animated">
      <%= link_to edit_course_path(@course) do %>
        <span class="hidden-sm hidden-xs">Edit Course</span>
        <span class="visible-sm visible-xs"> Edit</span>
      <% end %>
    </li>
    <li role="presentation" class="active animated fadeIn">
      <%= link_to "#" do %>
        <span class="hidden-sm hidden-xs">Edit Course</span>
        <span class="visible-sm visible-xs"> Edit</span>
      <% end %>
    </li>
    <li class="animated fadeIn" role="presentation ">
      <%= link_to user_courses_path(course_id: @course.id, option: "trainee") do %>
        <span class="hidden-sm hidden-xs">Trainees</span>
        <span class="visible-sm visible-xs">Trainees</span>
      <% end %>
    </li>
    <li class="animated fadeIn" role="presentation">
      <%= link_to user_courses_path(course_id: @course.id, option: "trainer") do %>
        <span class="hidden-sm hidden-xs">Trainers</span>
        <span class="visible-sm visible-xs">Trainers</span>
      <% end %>
    </li>
  </ul>
</div>
<div class="block">
  <div class="block-title">
    <h2><strong>Subjects</strong> in course</h2>
  </div>
  <div class="table-options clearfix">
    <div class="btn-group btn-group-sm pull-right">
      <%= form_tag course_subjects_path, method: "get", id: "subject_search" do %>
        <%= hidden_field_tag :course_id, @course.id %>
        <%= text_field_tag :search, params[:search], class: "search-input",
          placeholder: "Input name subject" %>
        <%= submit_tag "Search", class: "search-btn" %>
      <% end %>
    </div>
  </div>
  <div class="table-responsive">
    <%= form_for @course.course_subjects.build, url: {action: "del_course_subjects"}, remote: true do %>
      <%= hidden_field_tag :course_id, @course.id %>
      <table class="table table-striped table-vcenter">
        <thead>
          <tr>
            <th class="text-center"><input type="checkbox" id="select_all_added"></th>
            <th class="text-center">Name</th>
            <th class="text-center">Teacher</th>
            <th class="text-center">NumberDays</th>
            <th class="text-center">NumberTasks</th>
            <th class="text-center">Action</th>
          </tr>
        </thead>
        <tbody id="subject-added">
          <% if @course_subjects.blank? %>
            <tr>
              <td colspan="6">
                Let's add subjects for course
              </td>
            </tr>
          <% end %>
          <%= render partial: "subject_added", collection: @course_subjects, as: :coursesubject %>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="6">
              <button type="submit" class="btn btn-primary btn-load">
                <i class="fa fa-times"></i>
              </button>
          </tr>
        </tfoot>
      </table>
    <% end %>
  </div>
</div>
<div class="block">
  <div class="block-title">
    <h2><strong>Subjects</strong> another</h2>
  </div>
  <div class="table-options clearfix">
    <div class="btn-group btn-group-sm pull-right">
      <%= form_tag course_subjects_path, method: "get", id: "subject_search" do %>
        <%= hidden_field_tag :course_id, @course.id %>
        <%= text_field_tag :search, params[:search], class: "search-input",
          placeholder: "Input name subject" %>
        <%= submit_tag "Search", class: "search-btn" %>
      <% end %>
    </div>
  </div>
  <div class="table-responsive">
    <%= form_for @course.course_subjects.build, remote: true do %>
      <%= hidden_field_tag :course_id, @course.id %>
      <table class="table table-striped table-vcenter">
        <thead>
          <tr>
            <th class="text-center"><input type="checkbox" id="select_all_adding"></th>
            <th class="text-center">Name</th>
            <th class="text-center">Teacher</th>
            <th class="text-center">NumberDays</th>
            <th class="text-center">NumberTasks</th>
            <th class="text-center">Action</th>
          </tr>
        </thead>
        <tbody id="subject-adding">
          <% if @all_subjects.blank? %>
            <tr>
              <td colspan="6">
                No subject to show
              </td>
            </tr>
          <% end %>
          <%= render partial: "subject_adding", collection: @all_subjects, as: :subject %>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="6">
              <button type="submit" class="btn btn-primary btn-load">
                <i class="fa fa-plus"></i></button>
            </td>
          </tr>
        </tfoot>
      </table>
    <% end %>
  </div>
</div>
